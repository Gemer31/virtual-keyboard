/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./data.js":
/*!*****************!*\
  !*** ./data.js ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KEYBOARD_DATA\": () => (/* binding */ KEYBOARD_DATA)\n/* harmony export */ });\nconst KEYBOARD_DATA = [\r\n  [\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ё',\r\n          'upperCase': 'Ё',\r\n        },\r\n        'eng': {\r\n          'lowerCase': '`',\r\n          'upperCase': '~',\r\n        },\r\n      },\r\n      'code': 'Backquote',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '1',\r\n        'eng': '1',\r\n        'caps': '1',\r\n        'shiftCaps': '!'\r\n      },\r\n      'code': 'Digit1',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '2',\r\n        'eng': '2',\r\n        'caps': '2',\r\n        'shiftCaps': '@'\r\n      },\r\n      'code': 'Digit2',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '3',\r\n        'eng': '3',\r\n        'caps': '3',\r\n        'shiftCaps': '#'\r\n      },\r\n      'code': 'Digit3',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '4',\r\n        'eng': '4',\r\n        'caps': '4',\r\n        'shiftCaps': '$'\r\n      },\r\n      'code': 'Digit4',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '5',\r\n        'eng': '5',\r\n        'caps': '5',\r\n        'shiftCaps': '%'\r\n      },\r\n      'code': 'Digit5',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '6',\r\n        'eng': '6',\r\n        'caps': '6',\r\n        'shiftCaps': '^'\r\n      },\r\n      'code': 'Digit6',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '7',\r\n        'eng': '7',\r\n        'caps': '7',\r\n        'shiftCaps': '&'\r\n      },\r\n      'code': 'Digit7',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '8',\r\n        'eng': '8',\r\n        'caps': '8',\r\n        'shiftCaps': '*'\r\n      },\r\n      'code': 'Digit8',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '9',\r\n        'eng': '9',\r\n        'caps': '9',\r\n        'shiftCaps': '('\r\n      },\r\n      'code': 'Digit9',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '0',\r\n        'eng': '0',\r\n        'caps': '0',\r\n        'shiftCaps': ')'\r\n      },\r\n      'code': 'Digit0',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '-',\r\n        'eng': '-',\r\n        'caps': '-',\r\n        'shiftCaps': '_'\r\n      },\r\n      'code': 'Minus',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '=',\r\n        'eng': '=',\r\n        'caps': '=',\r\n        'shiftCaps': '+'\r\n      },\r\n      'code': 'Equal',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': 'Backspace',\r\n        'eng': 'Backspace',\r\n        'caps': 'Backspace',\r\n        'shiftCaps': 'Backspace'\r\n      },\r\n      'code': 'Backspace',\r\n    },\r\n  ],\r\n  [\r\n    {\r\n      'keys': {\r\n        'rus': 'Tab',\r\n        'eng': 'Tab',\r\n        'caps': 'Tab',\r\n        'shiftCaps': 'Tab'\r\n      },\r\n      'code': 'Tab',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'й',\r\n          'upperCase': 'Й',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'q',\r\n          'upperCase': 'Q',\r\n        },\r\n      },\r\n      'code': 'KeyQ',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ц',\r\n          'upperCase': 'Ц',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'w',\r\n          'upperCase': 'W',\r\n        },\r\n      },\r\n      'code': 'KeyW',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'у',\r\n          'upperCase': 'У',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'e',\r\n          'upperCase': 'E',\r\n        },\r\n      },\r\n      'code': 'KeyE',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'к',\r\n          'upperCase': 'К',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'r',\r\n          'upperCase': 'R',\r\n        },\r\n      },\r\n      'code': 'KeyR',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'е',\r\n          'upperCase': 'Е',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 't',\r\n          'upperCase': 'T',\r\n        },\r\n      },\r\n      'code': 'KeyT',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'н',\r\n          'upperCase': 'Н',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'y',\r\n          'upperCase': 'Y',\r\n        },\r\n      },\r\n      'code': 'KeyY',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'г',\r\n          'upperCase': 'Г',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'u',\r\n          'upperCase': 'U',\r\n        },\r\n      },\r\n      'code': 'KeyU',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ш',\r\n          'upperCase': 'Ш',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'i',\r\n          'upperCase': 'I',\r\n        },\r\n      },\r\n      'code': 'KeyI',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'щ',\r\n          'upperCase': 'Щ',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'o',\r\n          'upperCase': 'O',\r\n        },\r\n      },\r\n      'code': 'KeyO',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'з',\r\n          'upperCase': 'З',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'p',\r\n          'upperCase': 'P',\r\n        },\r\n      },\r\n      'code': 'KeyP',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'х',\r\n          'upperCase': 'Х',\r\n        },\r\n        'eng': {\r\n          'lowerCase': '[',\r\n          'upperCase': '{',\r\n        },\r\n      },\r\n      'code': 'BracketLeft',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ъ',\r\n          'upperCase': 'Ъ',\r\n        },\r\n        'eng': {\r\n          'lowerCase': ']',\r\n          'upperCase': '}',\r\n        },\r\n      },\r\n      'code': 'BracketRight',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': '\\\\',\r\n          'upperCase': '/',\r\n        },\r\n        'eng': {\r\n          'lowerCase': '\\\\',\r\n          'upperCase': '|',\r\n        },\r\n      },\r\n      'code': 'Backslash',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': 'Del',\r\n        'eng': 'Del',\r\n        'caps': 'Del',\r\n        'shiftCaps': 'Del'\r\n      },\r\n      'code': 'Delete',\r\n    },\r\n  ],\r\n  [\r\n    {\r\n      'keys': {\r\n        'rus': 'CapsLock',\r\n        'eng': 'CapsLock',\r\n        'caps': 'CapsLock',\r\n        'shiftCaps': 'CapsLock'\r\n      },\r\n      'code': 'CapsLock',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ф',\r\n          'upperCase': 'Ф',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'a',\r\n          'upperCase': 'A',\r\n        },\r\n      },\r\n      'code': 'KeyA',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ы',\r\n          'upperCase': 'Ы',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 's',\r\n          'upperCase': 'S',\r\n        },\r\n      },\r\n      'code': 'KeyS',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'в',\r\n          'upperCase': 'В',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'd',\r\n          'upperCase': 'D',\r\n        },\r\n      },\r\n      'code': 'KeyD',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'а',\r\n          'upperCase': 'А',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'f',\r\n          'upperCase': 'F',\r\n        },\r\n      },\r\n      'code': 'KeyF',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'п',\r\n          'upperCase': 'П',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'g',\r\n          'upperCase': 'G',\r\n        },\r\n      },\r\n      'code': 'KeyG',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'р',\r\n          'upperCase': 'Р',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'h',\r\n          'upperCase': 'H',\r\n        },\r\n      },\r\n      'code': 'KeyH',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'j',\r\n          'upperCase': 'J',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'о',\r\n          'upperCase': 'О',\r\n        },\r\n      },\r\n      'code': 'KeyJ',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'л',\r\n          'upperCase': 'Л',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'k',\r\n          'upperCase': 'K',\r\n        },\r\n      },\r\n      'code': 'KeyK',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'д',\r\n          'upperCase': 'Д',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'l',\r\n          'upperCase': 'L',\r\n        },\r\n      },\r\n      'code': 'KeyL',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ж',\r\n          'upperCase': 'Ж',\r\n        },\r\n        'eng': {\r\n          'lowerCase': ';',\r\n          'upperCase': ':',\r\n        },\r\n      },\r\n      'code': 'Semicolon',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'э',\r\n          'upperCase': 'Э',\r\n        },\r\n        'eng': {\r\n          'lowerCase': '\\'',\r\n          'upperCase': '\"',\r\n        },\r\n      },\r\n      'code': 'Quote',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': 'Enter',\r\n        'eng': 'Enter',\r\n        'caps': 'Enter',\r\n        'shiftCaps': 'Enter'\r\n      },\r\n      'code': 'Enter',\r\n    },\r\n  ],\r\n  [\r\n    {\r\n      'keys': {\r\n        'rus': 'Shift',\r\n        'eng': 'Shift',\r\n        'caps': 'Shift',\r\n        'shiftCaps': 'Shift'\r\n      },\r\n      'code': 'ShiftLeft',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'я',\r\n          'upperCase': 'Я',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'z',\r\n          'upperCase': 'Z',\r\n        },\r\n      },\r\n      'code': 'KeyZ',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ч',\r\n          'upperCase': 'Ч',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'x',\r\n          'upperCase': 'X',\r\n        },\r\n      },\r\n      'code': 'KeyX',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'c',\r\n          'upperCase': 'C',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'с',\r\n          'upperCase': 'C',\r\n        },\r\n      },\r\n      'code': 'KeyC',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'м',\r\n          'upperCase': 'М',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'v',\r\n          'upperCase': 'V',\r\n        },\r\n      },\r\n      'code': 'KeyV',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'и',\r\n          'upperCase': 'И',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'b',\r\n          'upperCase': 'B',\r\n        },\r\n      },\r\n      'code': 'KeyB',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'т',\r\n          'upperCase': 'Т',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'n',\r\n          'upperCase': 'N',\r\n        },\r\n      },\r\n      'code': 'KeyN',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ь',\r\n          'upperCase': 'Ь',\r\n        },\r\n        'eng': {\r\n          'lowerCase': 'm',\r\n          'upperCase': 'M',\r\n        },\r\n      },\r\n      'code': 'KeyM',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'б',\r\n          'upperCase': 'Б',\r\n        },\r\n        'eng': {\r\n          'lowerCase': ',',\r\n          'upperCase': '<',\r\n        },\r\n      },\r\n      'code': 'Comma',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': {\r\n          'lowerCase': 'ю',\r\n          'upperCase': 'Ю',\r\n        },\r\n        'eng': {\r\n          'lowerCase': '.',\r\n          'upperCase': '>',\r\n        },\r\n      },\r\n      'code': 'Period',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '.',\r\n        'eng': '.',\r\n        'caps': '.',\r\n        'shiftCaps': ','\r\n      },\r\n      'code': 'Slash',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '▲',\r\n        'eng': '▲',\r\n        'caps': '▲',\r\n        'shiftCaps': '▲'\r\n      },\r\n      'code': 'ArrowUp',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': 'Shift',\r\n        'eng': 'Shift',\r\n        'caps': 'Shift',\r\n        'shiftCaps': 'Shift'\r\n      },\r\n      'code': 'ShiftRight',\r\n    },\r\n  ],\r\n  [\r\n    {\r\n      'keys': {\r\n        'rus': 'Ctrl',\r\n        'eng': 'Ctrl',\r\n        'caps': 'Ctrl',\r\n        'shiftCaps': 'Ctrl'\r\n      },\r\n      'code': 'ControlLeft',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': 'Win',\r\n        'eng': 'Win',\r\n        'caps': 'Win',\r\n        'shiftCaps': 'Win'\r\n      },\r\n      'code': 'MetaLeft',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': 'Alt',\r\n        'eng': 'Alt',\r\n        'caps': 'Alt',\r\n        'shiftCaps': 'Alt'\r\n      },\r\n      'code': 'AltLeft',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': ' ',\r\n        'eng': ' ',\r\n        'caps': ' ',\r\n        'shiftCaps': ' '\r\n      },\r\n      'code': 'Space',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': 'Alt',\r\n        'eng': 'Alt',\r\n        'caps': 'Alt',\r\n        'shiftCaps': 'Alt'\r\n      },\r\n      'code': 'AltRight',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '◄',\r\n        'eng': '◄',\r\n        'caps': '◄',\r\n        'shiftCaps': '◄'\r\n      },\r\n      'code': 'ArrowLeft',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '▼',\r\n        'eng': '▼',\r\n        'caps': '▼',\r\n        'shiftCaps': '▼'\r\n      },\r\n      'code': 'ArrowDown',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': '►',\r\n        'eng': '►',\r\n        'caps': '►',\r\n        'shiftCaps': '►'\r\n      },\r\n      'code': 'ArrowRight',\r\n    },\r\n    {\r\n      'keys': {\r\n        'rus': 'Ctrl',\r\n        'eng': 'Ctrl',\r\n        'caps': 'Ctrl',\r\n        'shiftCaps': 'Ctrl'\r\n      },\r\n      'code': 'ControlRight',\r\n    },\r\n  ]\r\n];\r\n\n\n//# sourceURL=webpack://virtual-keyboard/./data.js?");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data */ \"./data.js\");\n\r\n\r\nconst RUSSIAN_LANG = 'rus';\r\nconst ENGLISH_LANG = 'eng';\r\nlet currentLang = localStorage.getItem('lang') || RUSSIAN_LANG;\r\nlet capsActive;\r\nlet shiftActive;\r\nlet altActive;\r\nlet ctrlActive;\r\nconst unwritableCodes = [\r\n  'CapsLock',\r\n  'ControlLeft',\r\n  'ControlRight',\r\n  'ShiftLeft',\r\n  'ShiftRight',\r\n  'AltLeft',\r\n  'AltRight',\r\n  'MetaLeft',\r\n  'MetaRight',\r\n];\r\n\r\nconst title = document.createElement('span');\r\ntitle.className = 'title';\r\ntitle.innerText = 'Virtual Keyboard';\r\n\r\nconst langSwitchInfo = document.createElement('p');\r\nlangSwitchInfo.className = 'info';\r\nlangSwitchInfo.innerText = 'Для переключения языка комбинация: левыe ctrl + alt';\r\n\r\nconst textarea = document.createElement('textarea');\r\ntextarea.id = 'keyboardTextarea'\r\ntextarea.className = 'textarea';\r\ntextarea.rows = 5;\r\ntextarea.cols = 50;\r\n\r\nconst keyboard = document.createElement('div');\r\nkeyboard.className = 'keyboard';\r\n\r\n_data__WEBPACK_IMPORTED_MODULE_0__.KEYBOARD_DATA.forEach(rowItems => {\r\n  const keyboardRow = document.createElement('div');\r\n  keyboardRow.className = 'keyboard__row';\r\n\r\n  rowItems.forEach(item => keyboardRow.append(createButton(item)));\r\n  keyboard.append(keyboardRow);\r\n})\r\n\r\nfunction createButton(data) {\r\n  const button = document.createElement('button');\r\n  button.id = data.code;\r\n  button.className = `button ${data.code}`;\r\n\r\n  for (let keyType in data.keys) {\r\n    if (keyType !== 'shiftCaps' && keyType !== 'caps') {\r\n      const langContainer = document.createElement('span');\r\n      langContainer.className = keyType;\r\n\r\n      const lowerCaseContainer = document.createElement('span');\r\n      const upperCaseContainer = document.createElement('span');\r\n      const capsContainer = document.createElement('span');\r\n      const shiftCapsContainer = document.createElement('span');\r\n      lowerCaseContainer.className = 'lowerCase';\r\n      upperCaseContainer.className = 'upperCase hidden';\r\n      capsContainer.className = 'caps hidden';\r\n      shiftCapsContainer.className = 'shiftCaps hidden';\r\n\r\n      if (typeof data.keys[keyType] === 'string') {\r\n        lowerCaseContainer.innerText = data.keys[keyType];\r\n        upperCaseContainer.innerText = data.keys['shiftCaps'];\r\n      } else {\r\n        lowerCaseContainer.innerText = data.keys[keyType]['lowerCase'];\r\n        upperCaseContainer.innerText = data.keys[keyType]['upperCase'];\r\n      }\r\n\r\n      capsContainer.innerText = data.keys['caps'] || data.keys[keyType]['upperCase'];\r\n      shiftCapsContainer.innerText = data.keys['shiftCaps'] || data.keys[keyType]['lowerCase'];\r\n\r\n      keyType !== currentLang && langContainer.classList.add('hidden');\r\n\r\n      langContainer.append(lowerCaseContainer, upperCaseContainer, capsContainer, shiftCapsContainer);\r\n      button.append(langContainer);\r\n    }\r\n  }\r\n\r\n  button.addEventListener('mouseup', () => processKeyupEvent(data))\r\n  button.addEventListener('mousedown', event => processKeydownEvent({\r\n    ...data,\r\n    key: event.srcElement.nodeName === 'SPAN'\r\n      ? event.srcElement.innerText\r\n      : [...event.srcElement.childNodes].filter(child => !child.className.includes('hidden'))[0].innerText,\r\n  }));\r\n\r\n  return button;\r\n}\r\n\r\nfunction writeText(event) {\r\n  const {beforeSelectedText, afterSelectedText, selectedText} = getTextAreaData();\r\n\r\n  if (event.code === 'Backspace') {\r\n    textarea.value = selectedText.length\r\n      ? beforeSelectedText + afterSelectedText\r\n      : beforeSelectedText.substr(0, beforeSelectedText.length - 1) + afterSelectedText;\r\n    textarea.selectionEnd = beforeSelectedText.length - 1;\r\n  } else if (event.code === 'Delete') {\r\n    textarea.value = selectedText.length\r\n      ? beforeSelectedText + afterSelectedText\r\n      : beforeSelectedText + afterSelectedText.substr(1, afterSelectedText.length);\r\n    textarea.selectionEnd = beforeSelectedText.length;\r\n  } else if (!unwritableCodes.includes(event.code)) {\r\n    let key;\r\n\r\n    switch (event.key) {\r\n      case 'Tab': {\r\n        key = '   ';\r\n        break;\r\n      }\r\n      case 'Enter': {\r\n        key = '\\n';\r\n        break;\r\n      }\r\n      default: {\r\n        key = getKey(event.code) || event.key;\r\n      }\r\n    }\r\n\r\n    textarea.value = beforeSelectedText + key + afterSelectedText;\r\n    textarea.selectionEnd = (beforeSelectedText + key).length;\r\n  }\r\n}\r\n\r\nfunction getTextAreaData() {\r\n  const cursorStart = textarea.selectionStart;\r\n  const cursorEnd = textarea.selectionEnd;\r\n\r\n  return {\r\n    beforeSelectedText: textarea.value.substr(0, cursorStart),\r\n    afterSelectedText: textarea.value.substr(cursorEnd, textarea.value.length - 1),\r\n    selectedText: cursorStart === cursorEnd ? '' : textarea.value.substr(cursorStart, cursorEnd - 1),\r\n  };\r\n}\r\n\r\nfunction changeLang() {\r\n  currentLang = currentLang === RUSSIAN_LANG ? ENGLISH_LANG : RUSSIAN_LANG;\r\n  localStorage.setItem('lang', currentLang);\r\n\r\n  const rusLangElements = document.getElementsByClassName(RUSSIAN_LANG);\r\n  const engLangElements = document.getElementsByClassName(ENGLISH_LANG);\r\n\r\n  if (currentLang === RUSSIAN_LANG) {\r\n    [...rusLangElements].forEach(element => element.classList.remove('hidden'));\r\n    [...engLangElements].forEach(element => element.classList.add('hidden'));\r\n  } else {\r\n    [...rusLangElements].forEach(element => element.classList.add('hidden'));\r\n    [...engLangElements].forEach(element => element.classList.remove('hidden'));\r\n  }\r\n}\r\n\r\nfunction onCapsClick() {\r\n  capsActive = !capsActive;\r\n  const lowerCaseElements = document.getElementsByClassName('lowerCase');\r\n  const upperCaseElements = document.getElementsByClassName('upperCase');\r\n  const capsElements = document.getElementsByClassName('caps');\r\n  const shiftCapsCaseElements = document.getElementsByClassName('shiftCaps');\r\n\r\n  if (capsActive) {\r\n    [...lowerCaseElements].forEach(element => element.classList.add('hidden'));\r\n    [...upperCaseElements].forEach(element => element.classList.remove('hidden'));\r\n    [...capsElements].forEach(element => element.classList.add('hidden'));\r\n    [...shiftCapsCaseElements].forEach(element => element.classList.add('hidden'));\r\n  } else {\r\n    [...lowerCaseElements].forEach(element => element.classList.remove('hidden'));\r\n    [...upperCaseElements].forEach(element => element.classList.add('hidden'));\r\n    [...capsElements].forEach(element => element.classList.add('hidden'));\r\n    [...shiftCapsCaseElements].forEach(element => element.classList.add('hidden'));\r\n  }\r\n}\r\n\r\nfunction onShiftClick(value) {\r\n  shiftActive = value;\r\n\r\n  const lowerCaseElements = document.getElementsByClassName('lowerCase');\r\n  const upperCaseElements = document.getElementsByClassName('upperCase');\r\n  const capsElements = document.getElementsByClassName('caps');\r\n  const shiftCapsCaseElements = document.getElementsByClassName('shiftCaps');\r\n\r\n  if (capsActive) {\r\n    if (shiftActive) {\r\n      [...lowerCaseElements].forEach(element => element.classList.add('hidden'));\r\n      [...upperCaseElements].forEach(element => element.classList.add('hidden'));\r\n      [...capsElements].forEach(element => element.classList.add('hidden'));\r\n      [...shiftCapsCaseElements].forEach(element => element.classList.remove('hidden'));\r\n    } else {\r\n      [...lowerCaseElements].forEach(element => element.classList.add('hidden'));\r\n      [...upperCaseElements].forEach(element => element.classList.add('hidden'));\r\n      [...capsElements].forEach(element => element.classList.remove('hidden'));\r\n      [...shiftCapsCaseElements].forEach(element => element.classList.add('hidden'));\r\n    }\r\n  } else {\r\n    if (shiftActive) {\r\n      [...lowerCaseElements].forEach(element => element.classList.add('hidden'));\r\n      [...upperCaseElements].forEach(element => element.classList.remove('hidden'));\r\n      [...capsElements].forEach(element => element.classList.add('hidden'));\r\n      [...shiftCapsCaseElements].forEach(element => element.classList.add('hidden'));\r\n    } else {\r\n      [...lowerCaseElements].forEach(element => element.classList.remove('hidden'));\r\n      [...upperCaseElements].forEach(element => element.classList.add('hidden'));\r\n      [...capsElements].forEach(element => element.classList.add('hidden'));\r\n      [...shiftCapsCaseElements].forEach(element => element.classList.add('hidden'));\r\n    }\r\n  }\r\n}\r\n\r\nfunction getKey(code) {\r\n  const button = document.getElementById(code);\r\n\r\n  return button ? [...[...button.childNodes]\r\n      ?.filter(langContainer => langContainer.className.includes(currentLang))[0]\r\n      ?.childNodes]\r\n      ?.filter(valueContainer => !valueContainer.className.includes('hidden'))[0]\r\n      ?.innerText\r\n    : null;\r\n}\r\n\r\nfunction processKeydownEvent(event) {\r\n  event.preventDefault?.();\r\n\r\n  const eventSource = document.getElementById(event.code);\r\n\r\n  if (eventSource) {\r\n    event.code === 'CapsLock' && capsActive\r\n      ? eventSource.classList.remove('active')\r\n      : eventSource.classList.add('active');\r\n  }\r\n\r\n  (event.code === 'ShiftLeft' || event.code === 'ShiftRight') && onShiftClick(true);\r\n  event.code === 'CapsLock' && onCapsClick();\r\n\r\n  altActive = event.code === 'AltLeft' || event.code === 'AltRight' || altActive;\r\n  ctrlActive = event.code === 'ControlLeft' || event.code === 'ControlRight' || ctrlActive;\r\n  altActive && ctrlActive && changeLang();\r\n\r\n  writeText(event);\r\n}\r\n\r\nfunction processKeyupEvent(event) {\r\n  event.preventDefault?.();\r\n\r\n  (event.code === 'ShiftLeft' || event.code === 'ShiftRight') && onShiftClick(false);\r\n\r\n  const eventSource = document.getElementById(event.code);\r\n  if (eventSource && event.code !== 'CapsLock') {\r\n    eventSource.classList.remove('active');\r\n  }\r\n\r\n  altActive = (event.code === 'AltLeft' || event.code === 'AltRight') ? false : altActive;\r\n  ctrlActive = (event.code === 'ControlLeft' || event.code === 'ControlRight') ? false : ctrlActive;\r\n}\r\n\r\ndocument.addEventListener('keydown', event => processKeydownEvent(event));\r\ndocument.addEventListener('keyup', event => processKeyupEvent(event));\r\ndocument.body.append(title, textarea, keyboard, langSwitchInfo);\r\n\n\n//# sourceURL=webpack://virtual-keyboard/./index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./index.js");
/******/ 	
/******/ })()
;